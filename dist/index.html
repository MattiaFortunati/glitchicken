<!doctype html><meta charset="utf-8"><title>GLITCHICKEN</title><body><script>function a(){t=document.createElement("canvas"),t.setAttribute("width",500*U.scale),t.setAttribute("height",500*U.scale),t.style.backgroundColor="",u=t.getContext("2d"),t.style="position: absolute;top:0;bottom: 0;left: 0;right: 0;margin:auto;";var a=navigator.userAgent.toLowerCase();a.indexOf("safari")!=-1&&(a.indexOf("chrome")>-1||(t.style.maxHeight="100%",t.style.minHeight="100%")),document.body.appendChild(t)}function b(a,b){var c=u,d=t,e=2.2*U.scale,f=100*U.scale,g=460*U.scale;b?(a=w,e=8*U.scale,f=75*U.scale,g=100*U.scale):c.clearRect(0,0,d.width,d.height);var h=[];if(a){a=a.toUpperCase();for(var i=0;a.length>i;i++){var j=x[a.charAt(i)];j&&h.push(j)}c.fillStyle="black";var k=0;for(i=0;h.length>i;i++){j=h[i];for(var l=0,m=0,n=0;j.length>n;n++){for(var o=j[n],p=0;o.length>p;p++)o[p]&&c.fillRect(k+p*e+f,l+g,e,e);m=Math.max(m,o.length*e),l+=e}k+=e+m}}}function c(){for(var a=0;W.gr.length>a;a++){var b=a%10,c=parseInt(a/10),d=U.sprite(D);d.width=50,d.height=50,d.x=50*b,d.y=50*c}i(V)}function d(){0==I&&9==J&&(J=0,g(W))}function e(){M.MSG[M.ACT]&&M.MSG[M.ACT].length>M.TCT?(v+=M.MSG[M.ACT][M.TCT],M.TCT+=1,M.TM=window.setTimeout(e,100)):(v="",M.TCT=0,M.ACT+=1,M.TM=window.setTimeout(e,100))}function f(){b(v),U.move(K),K.width=50,K.height=50,"left"==K.direction?K.scaleX=-1:"right"==K.direction&&(K.scaleX=1);for(var a=0;F.length>a;a++)U.rectangleCollision(K,F[a],!1,!1);M.MSG[M.ACT]?O.y>440&&(O.y-=10):500>O.y&&(O.y+=10),1==P.foll&&(U.followConstant(P,K,1),U.followConstant(Q,K,1)),"OUT"==T.fade?T.alpha>.1?T.alpha-=.2:T.alpha=0:"IN"==T.fade&&(1>T.alpha?T.alpha+=.2:T.alpha=1)}function g(a){h(a)}function h(a){T.fade="IN",window.setTimeout(function(a){for(var b=0;G.length>b;b++)U.remove(G[b]);U.remove(K),clearTimeout(M.TM),F=[],G=[],U.remove(T),i(a)},200,a)}function i(a){for(var b=0;a.gr.length>b;b++){var c,d,f=b%10,g=parseInt(b/10);if(0!=a.gr[b]&&(1==a.gr[b]?d=C:2==a.gr[b]&&(d=z),c=U.sprite(d),c.width=50,c.height=50,c.x=50*f,c.y=50*g,G.push(c),1==a.gr[b]&&F.push(c),2==a.gr[b])){var h=2*Math.random()-1;h>0&&(c.scaleX=-1),F.push(c)}}K=U.sprite([z,z,z,z,z,z,z,z,A]),K.fps=2,K.play(),K.x=a.pl.x,K.y=a.pl.y,K.width=50,K.height=50,U.fourKeyController(K,2,38,39,40,37),O=U.sprite(B),O.x=15,O.y=600,O.width=60,O.height=50,G.push(O),M={},M.MSG=["",""],M.ACT=0,M.TCT=0,M.y=450,M.x=100,M.restart=function(){M.ACT=0,M.TCT=0,M.TM=window.setTimeout(e,50)},P=U.sprite(B),P.height=50,P.width=60,P.x=-200,P.foll=!1,G.push(P),Q=U.sprite(B),Q.height=50,Q.width=60,Q.x=700,Q.y=500,Q.scaleX=-1,G.push(Q),T=U.rectangle(500,500,"black","black",0,0,0),T.alpha=1,T.fade="OUT",a.create(),U.state=a.state}function j(a){v="",clearTimeout(M.TM),M.MSG=a,M.restart()}function k(){f(),U.contain(K,U.stage.localBounds);var a=U.rectangleCollision(K,P,!1,!1)||U.rectangleCollision(K,Q,!1,!1);a&&0==J&&(J=1,g(X))}function l(){f();var a=U.contain(K,U.stage.localBounds);a&&0==P.foll&&(P.foll=!0,j(["  ","HOW?","A glitch in the wall collisions, too?  ","Get her!  "]));var b=U.rectangleCollision(K,P,!1,!1)||U.rectangleCollision(K,Q,!1,!1);b&&1==J&&(J=2,g(Y))}function m(){f(),R.x+=R.d;for(var a=0;F.length>a;a++){var b=U.rectangleCollision(R,F[a],!1,!1);b&&(R.d=-R.d)}U.rectangleCollision(K,R,!1,!1);var c=U.contain(K,U.stage.localBounds);c&&0==P.foll&&(P.foll=!0,j(["  ","B  A  R  K  ","You arrogant fool!","Guaaards!  "]));var b=U.rectangleCollision(K,P,!1,!1)||U.rectangleCollision(K,Q,!1,!1);b&&2==J&&(J=3,g(Z))}function n(){f();for(var a=0;F.length>a;a++)U.rectangleCollision(S,F[a],!1,!1);200>S.x&&(S.x=200);var b=U.rectangleCollision(S,K,!1,!1);b&&(K.x+=50,S.x+=1);var c=U.contain(K,U.stage.localBounds);c&&0==P.foll&&(P.foll=!0,j(["  ","YOU LITTLE GLITCH!","  "]));var d=U.rectangleCollision(K,P,!1,!1)||U.rectangleCollision(K,Q,!1,!1);d&&3==J&&(J=4,g($))}function o(){f();for(var a=0;F.length>a;a++){var b=U.rectangleCollision(R,F[a],!1,!1),c=U.rectangleCollision(S,F[a],!1,!1);"left"!=b&&"bottom"!=b&&400>R.x&&R.y>50||(R.x=250,R.y=200),c&&(S.x=150,S.y=250)}var d=U.rectangleCollision(K,R,!1,!1);d&&!M.MSG[M.ACT]&&j(["BARK!"]),U.rectangleCollision(S,K,!1,!1),U.rectangleCollision(R,S,!1,!1);var e=U.contain(K,U.stage.localBounds);e&&1==R.scaleY&&4==J&&(clearTimeout(R.TM),R.scaleY=-1,O.scaleY=-1,R.d=0,j(["  ","  ...  ","  Ouch!  ","  You ... ","Got ... ","Me ... ","B ... ","  BARK  "]),window.setTimeout(function(){J=5,g(_)},8e3))}function p(){f(),U.contain(K,U.stage.localBounds);var a=U.rectangleCollision(K,S,!1,!1);if(0==_.ended){a&&!M.MSG[M.ACT]&&j(["The only way to know the right order  ","is to have access to the SOURCE CODE  ","but only we guards have access to  ","the SOURCE CODE  "]);for(var c=0;H.length>c;c++){var d=U.rectangleCollision(K,H[c],!1,!1);d&&1==H[c].canChange&&(H[c].alpha=.5==H[c].alpha?1:.5,H[c].canChange=!1,window.setTimeout(function(a){H[a].canChange=!0},500,c),1==H[0].alpha&&.5==H[1].alpha&&.5==H[2].alpha&&1==H[3].alpha&&1==H[4].alpha&&1==H[5].alpha&&(_.ended=!0,Q.scaleX=1,Q.x=-500,Q.width=40,Q.height=30,P.x=-500,P.width=40,P.height=30,_.removeWalls=function(){F.length>0?(U.remove(F[0]),F.splice(0,1),window.setTimeout(_.removeWalls,100)):H.length>0?(U.remove(H[0]),H.splice(0,1),window.setTimeout(_.removeWalls,100)):(r(160),O.scaleY=1,S.scaleY=1,j(["HOW COULD YOU ACCESS THE SOURCE CODE?  ","COULD YOU POSSIBLY BE ... "]),window.setTimeout(_.finalScene,8e3)),_.finalScene=function(){var a=K.x,b=K.y;U.remove(K),R=U.sprite(E),R.width=80,R.height=120,R.scaleX=-1,R.x=a,R.y=b,j(["KEANU REEVES!  ","GUARDS! LET'S GET AWAY FROM HERE!  "]),window.setTimeout(_.finalScene2,5e3)},_.finalScene2=function(){O.visible=!1,M.x=10,j(["GLITCHICKEN by Mattia Fortunati   ","Made for the js13kgames 2016 competition.","   ","Congratulations!   ","You won! :)  "]),_.gt=function(){w="GLITCHICKEN".shuffle(),window.setTimeout(function(){w="GLITCHICKEN",_.TM=window.setTimeout(_.gt,2e3)},200)},V.TM=window.setTimeout(_.gt,2e3),P.run=!0,P.scaleX=-1,Q.scaleX=-1,S.scaleX=-1;for(var a=0;30>a;a++){var b=U.sprite([z,z,z,z,z,z,z,z,A]);b.fps=3*Math.random(),b.play(),b.width=50,b.height=50,b.x=-300,b.y=500*Math.random(),F.push(b),b.speed=3*Math.random()+1}window.setTimeout(_.postMessage,21e3)},_.postMessage=function(){j(["Err .. you won. GAME OVER you got me?   ","You can close the game now!  ","Oh, don't forget to vote for this game! :)  ","I hope you liked GLITCHICKEN!  ","Thank you for playing!   "]),window.setTimeout(_.postMessage,21e3)}},window.setTimeout(_.removeWalls,100)))}}else if(P.run){U.followConstant(P,{centerX:-500,centerY:250},3),U.followConstant(Q,{centerX:-500,centerY:380},3),U.followConstant(S,{centerX:-500,centerY:380},3),b(w,!0);for(var c=0;F.length>c;c++)F[c].x+=F[c].speed,F[c].width=50,F[c].height=50,700>F[c].x||(F[c].x=-300)}else U.followConstant(K,{centerX:300,centerY:250},3),U.followConstant(P,{centerX:100,centerY:250},1),U.followConstant(Q,{centerX:100,centerY:380},1)}function q(){f(),b(w,!0),K.x=-500,K.y=500,M.MSG[M.ACT]||j(["Welcome to GLITCHICKEN   ","Move with arrow keys or screen tap   ","press M to mute music   ","Press any key to start    "])}function r(a){ba.stop(),ca.stop(),ba.tempo=a,ca.tempo=a,ba.play(aa.currentTime),ca.play(aa.currentTime)}var s=s||{};s.VERSION="0.0.1",s.plugins=void 0,s.custom=void 0,s.create=function(a,b,c,e,f){function g(){if(requestAnimationFrame(g,r.canvas),void 0===r._fps)i();else{var a=Date.now(),b=a-r._startTime;for(b>1e3&&(b=r._frameDuration),r._startTime=a,r._lag+=b;r._lag>=r._frameDuration;)h(),i(),r._lag-=r._frameDuration;var c=r._lag/r._frameDuration;r.render(r.canvas,c)}}function h(){function a(b){b._previousX=b.x,b._previousY=b.y,b.children&&b.children.length>0&&b.children.forEach(function(b){a(b)})}r.stage.children.forEach(function(b){a(b)})}function i(){if(r.buttons.length>0){r.canvas.style.cursor="auto";for(var a=r.buttons.length-1;a>=0;a--){var b=r.buttons[a];b.update(r.pointer,r.canvas),"over"!==b.state&&"down"!==b.state||b.stage||(r.canvas.style.cursor="pointer")}}if(r.dragAndDrop&&r.pointer.updateDragAndDrop(),r.state&&!r.paused&&r.state(),0!==r.updateFunctions.length)for(var c=0;r.updateFunctions.length>c;c++){var d=r.updateFunctions[c];d()}}function j(a){a.x=0,a.y=0,a.vx=0,a.vy=0,a.width=0,a.height=0,a.scaleX=1,a.scaleY=1,a.pivotX=.5,a.pivotY=.5,a.rotation=0,a.visible=!0,a.parent=void 0,a.stage=!1,a.shadow=!1,a.shadowColor="rgba(100, 100, 100, 0.5)",a.shadowOffsetX=3,a.shadowOffsetY=3,a.shadowBlur=3,a.blendMode=void 0,a._alpha=1,a._draggable=void 0,a._layer=0,a._circular=!1,a._interactive=!1,a._previousX=void 0,a._previousY=void 0,a.children=[],a.addChild=function(b){b.parent&&b.parent.removeChild(b),b.parent=a,a.children.push(b)},a.removeChild=function(b){if(b.parent!==a)throw Error(b+"is not a child of "+a);a.children.splice(a.children.indexOf(b),1)},a.swapChildren=function(b,c){var d=a.children.indexOf(b),e=a.children.indexOf(c);if(d===-1||e===-1)throw Error(child+" Both objects must be a child of the caller "+a);b.childIndex=e,c.childIndex=d,a.children[d]=c,a.children[e]=b},a.add=function(b){var c=Array.prototype.slice.call(arguments);c.length>1?c.forEach(function(b){a.addChild(b)}):a.addChild(c[0])},a.remove=function(b){var c=Array.prototype.slice.call(arguments);c.length>1?c.forEach(function(b){a.removeChild(b)}):a.removeChild(c[0])},a.setPosition=function(b,c){a.x=b,a.y=c};var b=a;a.putCenter=function(c,d,e){d=d||0,e=e||0,c.x=b.x+b.halfWidth-c.halfWidth+d,c.y=b.y+b.halfHeight-c.halfHeight+e,a.compensateForParentPosition(b,c)},a.putTop=function(c,d,e){d=d||0,e=e||0,c.x=b.x+b.halfWidth-c.halfWidth+d,c.y=b.x-c.height+e,a.compensateForParentPosition(b,c)},a.putRight=function(c,d,e){d=d||0,e=e||0,c.x=b.x+b.width+d,c.y=b.y+b.halfHeight-c.halfHeight+e,a.compensateForParentPosition(b,c)},a.putBottom=function(c,d,e){d=d||0,e=e||0,c.x=b.x+b.halfWidth-c.halfWidth+d,c.y=b.y+b.height+e,a.compensateForParentPosition(b,c)},a.putLeft=function(c,d,e){d=d||0,e=e||0,c.x=b.x-c.width+d,c.y=b.y+b.halfHeight-c.halfHeight+e,a.compensateForParentPosition(b,c)},a.compensateForParentPosition=function(a,b){0===b.parent.gx&&0===b.parent.gy||(b.x-=a.gx,b.y-=a.gy)},Object.defineProperties(a,{gx:{get:function(){return this.parent?this.x+this.parent.gx:this.x},enumerable:!0,configurable:!0},gy:{get:function(){return this.parent?this.y+this.parent.gy:this.y},enumerable:!0,configurable:!0},position:{get:function(){return{x:a.x,y:a.y}},enumerable:!0,configurable:!0},alpha:{get:function(){var b=a.parent._alpha*a._alpha;return b},set:function(b){a._alpha=b},enumerable:!0,configurable:!0},halfWidth:{get:function(){return a.width/2},enumerable:!0,configurable:!0},halfHeight:{get:function(){return a.height/2},enumerable:!0,configurable:!0},centerX:{get:function(){return a.x+a.halfWidth},enumerable:!0,configurable:!0},centerY:{get:function(){return a.y+a.halfHeight},enumerable:!0,configurable:!0},layer:{get:function(){return a._layer},set:function(b){a._layer=b,a.parent.children.sort(q)},enumerable:!0,configurable:!0},circular:{get:function(){return a._circular},set:function(b){b===!0&&a._circular===!1&&(k(a),a._circular=!0),b===!1&&a._circular===!0&&(delete a.diameter,delete a.radius,a._circular=!1)},enumerable:!0,configurable:!0},draggable:{get:function(){return a._draggable},set:function(b){b===!0&&(r.draggableSprites.push(a),a._draggable=!0,r.dragAndDrop===!1&&(r.dragAndDrop=!0)),b===!1&&r.draggableSprites.splice(r.draggableSprites.indexOf(a),1)},enumerable:!0,configurable:!0},interactive:{get:function(){return a._interactive},set:function(b){b===!0&&(m(a),a._interactive=!0),b===!1&&(r.buttons.splice(r.buttons.indexOf(a),1),a._interactive=!1)},enumerable:!0,configurable:!0},localBounds:{get:function(){var b={x:0,y:0,width:a.width,height:a.height};return b},enumerable:!0,configurable:!0},globalBounds:{get:function(){return rectangle={x:a.gx,y:a.gy,width:a.gx+a.width,height:a.gy+a.height},rectangle},enumerable:!0,configurable:!0},empty:{get:function(){return 0===a.children.length},enumerable:!0,configurable:!0}})}function k(a){Object.defineProperties(a,{diameter:{get:function(){return a.width},set:function(b){a.width=b,a.height=b},enumerable:!0,configurable:!0},radius:{get:function(){return a.width/2},set:function(b){a.width=2*b,a.height=2*b},enumerable:!0,configurable:!0}})}function l(){var a={};return j(a),a.stage=!0,a.width=r.canvas.width,a.height=r.canvas.height,a.x=0,a.y=0,a.parent=void 0,a}function m(a){a.press=a.press||void 0,a.release=a.release||void 0,a.over=a.over||void 0,a.out=a.out||void 0,a.tap=a.tap||void 0,a.state="up",a.action="",a.pressed=!1,a.enabled=!0,a.hoverOver=!1,r.buttons.push(a),a.update=function(b,c){if(a.enabled){var d=r.pointer.hitTestSprite(a);b.isUp&&(a.state="up","button"===a.subtype&&a.show(0)),d&&(a.state="over",a.frames&&3===a.frames.length&&"button"===a.subtype&&a.show(1),b.isDown&&(a.state="down","button"===a.subtype&&a.show(3===a.frames.length?2:1))),"down"===a.state&&(a.pressed||(a.press&&a.press(),a.pressed=!0,a.action="pressed")),"over"===a.state&&(a.pressed&&(a.release&&a.release(),a.pressed=!1,a.action="released",r.pointer.tapped&&a.tap&&a.tap()),a.hoverOver||(a.over&&a.over(),a.hoverOver=!0)),"up"===a.state&&(a.pressed&&(a.release&&a.release(),a.pressed=!1,a.action="released"),a.hoverOver&&(a.out&&a.out(),a.hoverOver=!1))}}}function n(){var a={};return a._x=0,a._y=0,Object.defineProperties(a,{x:{get:function(){return a._x/r.scale},enumerable:!0,configurable:!0},y:{get:function(){return a._y/r.scale},enumerable:!0,configurable:!0},centerX:{get:function(){return a.x},enumerable:!0,configurable:!0},centerY:{get:function(){return a.y},enumerable:!0,configurable:!0},position:{get:function(){return{x:a.x,y:a.y}},enumerable:!0,configurable:!0}}),a.isDown=!1,a.isUp=!0,a.tapped=!1,a.downTime=0,a.elapsedTime=0,a.press=void 0,a.release=void 0,a.tap=void 0,a.dragSprite=null,a.dragOffsetX=0,a.dragOffsetY=0,a.moveHandler=function(b){a._x=b.pageX-b.target.offsetLeft,a._y=b.pageY-b.target.offsetTop,b.preventDefault()},a.touchmoveHandler=function(b){a._x=b.targetTouches[0].pageX-r.canvas.offsetLeft,a._y=b.targetTouches[0].pageY-r.canvas.offsetTop,b.preventDefault()},a.downHandler=function(b){a._x=b.pageX-b.target.offsetLeft,a._y=b.pageY-b.target.offsetTop,a.isDown=!0,a.isUp=!1,a.tapped=!1,a.downTime=Date.now(),a.press&&a.press(),b.preventDefault()},a.touchstartHandler=function(b){a._x=b.targetTouches[0].pageX-r.canvas.offsetLeft,a._y=b.targetTouches[0].pageY-r.canvas.offsetTop,a.isDown=!0,a.isUp=!1,a.tapped=!1,a.downTime=Date.now(),a.press&&a.press(),b.preventDefault()},a.upHandler=function(b){a.elapsedTime=Math.abs(a.downTime-Date.now()),a.elapsedTime>200||(a.tapped=!0,a.tap&&a.tap()),a.isUp=!0,a.isDown=!1,a.release&&a.release(),b.preventDefault()},window.addEventListener("mousemove",a.moveHandler.bind(a),!1),window.addEventListener("mousedown",a.downHandler.bind(a),!1),window.addEventListener("mouseup",a.upHandler.bind(a),!1),window.addEventListener("touchmove",a.touchmoveHandler.bind(a),!1),window.addEventListener("touchstart",a.touchstartHandler.bind(a),!1),window.addEventListener("touchend",a.upHandler.bind(a),!1),r.canvas.style.touchAction="none",a.hitTestSprite=function(b){var c=!1;if(b.circular){var d=a.x-(b.gx+b.halfWidth),e=a.y-(b.gy+b.halfHeight),f=Math.sqrt(d*d+e*e);c=b.radius>f}else var g=b.gx,h=b.gx+b.width,i=b.gy,j=b.gy+b.height,c=a.x>g&&h>a.x&&a.y>i&&j>a.y;return c},a.updateDragAndDrop=function(){if(a.isDown)if(null===a.dragSprite)for(var b=r.draggableSprites.length-1;b>-1;b--){var c=r.draggableSprites[b];if(c.draggable&&a.hitTestSprite(c)){a.dragOffsetX=a.x-c.gx,a.dragOffsetY=a.y-c.gy,a.dragSprite=c;var d=c.parent.children;d.splice(d.indexOf(c),1),d.push(c),r.draggableSprites.splice(r.draggableSprites.indexOf(c),1),r.draggableSprites.push(c);break}}else a.dragSprite.x=a.x-a.dragOffsetX,a.dragSprite.y=a.y-a.dragOffsetY;a.isUp&&(a.dragSprite=null),r.draggableSprites.some(function(b){return b.draggable&&a.hitTestSprite(b)?(r.canvas.style.cursor="pointer",!0):(r.canvas.style.cursor="auto",!1)})},a}function o(a){var b={};return b.code=a,b.isDown=!1,b.isUp=!0,b.press=void 0,b.release=void 0,b.downHandler=function(a){d(),a.keyCode===b.code&&(b.isUp&&b.press&&b.press(),b.isDown=!0,b.isUp=!1),a.preventDefault()},b.upHandler=function(a){a.keyCode===b.code&&(b.isDown&&b.release&&b.release(),b.isDown=!1,b.isUp=!0),a.preventDefault()},window.addEventListener("keydown",b.downHandler.bind(b),!1),window.addEventListener("keyup",b.upHandler.bind(b),!1),b}function p(){var a={};return a.leftArrow=o(37),a.upArrow=o(38),a.rightArrow=o(39),a.downArrow=o(40),a.space=o(32),a}function q(a,b){return b.layer>a.layer?-1:1}var r={},t=1;if(r.canvas=document.createElement("canvas"),r.canvas.setAttribute("width",a*t),r.canvas.setAttribute("height",b*t),r.canvas.style.backgroundColor="black",document.body.appendChild(r.canvas),r.canvas.ctx=r.canvas.getContext("2d"),r.stage=l(),r.pointer=n(),r.key=p(),r.buttons=[],r.dragAndDrop=!1,r.draggableSprites=[],r.tweens=[],r.state=void 0,r.load=f||void 0,r.setup=c||void 0,void 0===r.setup)throw Error("Please supply the setup function in the constructor");return r.assetFilePaths=e||void 0,r.paused=!1,r._fps=60,r._startTime=Date.now(),r._frameDuration=1e3/r._fps,r._lag=0,r.interpolate=!0,r.updateFunctions=[],r.scale=1,r.start=function(){r.assetFilePaths?(r.assets.whenLoaded=function(){r.state=void 0,r.setup()},r.assets.load(r.assetFilePaths),r.load&&(r.state=r.load)):r.setup(),g()},r.pause=function(){r.paused=!0},r.resume=function(){r.paused=!1},r.hidePointer=function(){r.canvas.style.cursor="none"},r.showPointer=function(){r.canvas.style.cursor="auto"},Object.defineProperties(r,{fps:{get:function(){return r._fps},set:function(a){r._fps=a,r._startTime=Date.now(),r._frameDuration=1e3/r._fps},enumerable:!0,configurable:!0},backgroundColor:{set:function(a){r.canvas.style.backgroundColor=a},enumerable:!0,configurable:!0}}),r.remove=function(a){var b=Array.prototype.slice.call(arguments);if(b[0]instanceof Array){var c=b[0];if(c.length>0)for(var d=c.length-1;d>=0;d--){var e=c[d];e.parent.removeChild(e),c.splice(c.indexOf(e),1)}}else b.length>1?b.forEach(function(a){a.parent.removeChild(a)}):b[0].parent.removeChild(b[0])},r.group=function(a){var b={};if(j(b),b.addChild=function(a){a.parent&&a.parent.removeChild(a),a.parent=b,b.children.push(a),b.calculateSize()},b.removeChild=function(a){if(a.parent!==b)throw Error(a+"is not a child of "+b);b.children.splice(b.children.indexOf(a),1),b.calculateSize()},b.calculateSize=function(){b.children.length>0&&(b._newWidth=0,b._newHeight=0,b.children.forEach(function(a){a.x+a.width>b._newWidth&&(b._newWidth=a.x+a.width),a.y+a.height>b._newHeight&&(b._newHeight=a.y+a.height)}),b.width=b._newWidth,b.height=b._newHeight)},r.stage.addChild(b),a){var c=Array.prototype.slice.call(arguments);c.forEach(function(a){b.addChild(a)})}return b},r.rectangle=function(a,b,c,d,e,f,g){var h={};return j(h),h.mask=!1,h.width=a||32,h.height=b||32,h.fillStyle=c||"red",h.strokeStyle=d||"none",h.lineWidth=e||0,h.x=f||0,h.y=g||0,r.stage.addChild(h),h.render=function(a){a.strokeStyle=h.strokeStyle,a.lineWidth=h.lineWidth,a.fillStyle=h.fillStyle,a.beginPath(),a.rect(-h.width*h.pivotX,-h.height*h.pivotY,h.width,h.height),h.mask===!0?a.clip():("none"!==h.strokeStyle&&a.stroke(),"none"!==h.fillStyle&&a.fill())},h},r.circle=function(a,b,c,d,e,f){var g={};return j(g),g.mask=!1,g.width=a||32,g.height=a||32,g.fillStyle=b||"red",g.strokeStyle=c||"none",g.lineWidth=d||"none",g.x=e||0,g.y=f||0,r.stage.addChild(g),k(g),g.render=function(a){a.strokeStyle=g.strokeStyle,a.lineWidth=g.lineWidth,a.fillStyle=g.fillStyle,a.beginPath(),a.arc(g.radius+-g.diameter*g.pivotX,g.radius+-g.diameter*g.pivotY,g.radius,0,2*Math.PI,!1),g.mask===!0?a.clip():("none"!==g.strokeStyle&&a.stroke(),"none"!==g.fillStyle&&a.fill())},g},r.line=function(a,b,c,d,e,f){var g={};return j(g),c||0===c||(c=0),d||0===d||(d=0),e||0===e||(e=32),f||0===f||(f=32),g.ax=c,g.ay=d,g.bx=e,g.by=f,g.strokeStyle=a||"red",g.lineWidth=b||1,g.lineJoin="round",r.stage.addChild(g),g.render=function(a){a.strokeStyle=g.strokeStyle,a.lineWidth=g.lineWidth,a.lineJoin=g.lineJoin,a.beginPath(),a.moveTo(g.ax,g.ay),a.lineTo(g.bx,g.by),"none"!==g.strokeStyle&&a.stroke(),"none"!==g.fillStyle&&a.fill()},g},r.text=function(a,b,c,d,e){var f={};return j(f),f.content=a||"",f.font=b||"12px sans-serif",f.fillStyle=c||"red",f.textBaseline="top",Object.defineProperties(f,{width:{get:function(){return r.canvas.ctx.measureText(f.content).width},enumerable:!0,configurable:!0},height:{get:function(){return r.canvas.ctx.measureText("M").width},enumerable:!0,configurable:!0}}),r.stage.addChild(f),f.x=d||0,f.y=e||0,f.render=function(a){a.strokeStyle=f.strokeStyle,a.lineWidth=f.lineWidth,a.fillStyle=f.fillStyle,0===f.width&&(f.width=a.measureText(f.content).width),0===f.height&&(f.height=a.measureText("M").width),a.translate(-f.width*f.pivotX,-f.height*f.pivotY),a.font=f.font,a.textBaseline=f.textBaseline,a.fillText(f.content,0,0)},f},r.frame=function(a,b,c,d,e){var f={};return f.image=a,f.x=b,f.y=c,f.width=d,f.height=e,f},r.frames=function(a,b,c,d){var e={};return e.image=a,e.data=b,e.width=c,e.height=d,e},r.filmstrip=function(a,b,c,d){for(var e=r.assets[a].source,f=[],g=e.width/b,h=e.height/c,i=g*h,j=0;i>j;j++){var k,l;k=j%g*b,l=Math.floor(j/g)*c,d&&d>0&&(k+=d+d*j%g,l+=d+d*Math.floor(j/g)),f.push([k,l])}return r.frames(a,f,b,c)},r.sprite=function(a){var b={};if(void 0===a)throw Error("Sprites require a source");return j(b),b.frames=[],b.loop=!0,b._currentFrame=0,b.setTexture=function(a){a.image||(a instanceof Array?(b.frames=a,b.source=r.assets[a[0]].source,b.sourceX=r.assets[a[0]].frame.x,b.sourceY=r.assets[a[0]].frame.y,b.width=r.assets[a[0]].frame.w,b.height=r.assets[a[0]].frame.h,b.sourceWidth=r.assets[a[0]].frame.w,b.sourceHeight=r.assets[a[0]].frame.h):(b.tilesetFrame=r.assets[a],b.source=b.tilesetFrame.source,b.sourceX=b.tilesetFrame.frame.x,b.sourceY=b.tilesetFrame.frame.y,b.width=b.tilesetFrame.frame.w,b.height=b.tilesetFrame.frame.h,b.sourceWidth=b.tilesetFrame.frame.w,b.sourceHeight=b.tilesetFrame.frame.h))},b.setTexture(a),b.gotoAndStop=function(a){if(0>=b.frames.length)throw Error("Frame number "+a+"doesn't exist");b.frames[0]instanceof Array?(b.sourceX=b.frames[a][0],b.sourceY=b.frames[a][1]):r.assets[b.frames[a]].frame&&(b.source=r.assets[b.frames[a]].source,b.sourceX=r.assets[b.frames[a]].frame.x,b.sourceY=r.assets[b.frames[a]].frame.y,b.sourceWidth=r.assets[b.frames[a]].frame.w,b.sourceHeight=r.assets[b.frames[a]].frame.h,b.width=r.assets[b.frames[a]].frame.w,b.height=r.assets[b.frames[a]].frame.h),b._currentFrame=a},b.x=0,b.y=0,b.frames.length>0&&(r.addStatePlayer(b),Object.defineProperty(b,"currentFrame",{get:function(){return b._currentFrame},enumerable:!1,configurable:!1})),r.stage.addChild(b),b.render=function(a){a.drawImage(b.source,b.sourceX,b.sourceY,b.sourceWidth,b.sourceHeight,-b.width*b.pivotX,-b.height*b.pivotY,b.width,b.height)},b},r.button=function(a){var b=r.sprite(a);return b.subtype="button",m(b),b},r.image=function(a){return r.assets[a]},r.json=function(a){return r.assets[a]},r.addStatePlayer=function(a){function b(b){g(),a.gotoAndStop("string"!=typeof b?b:a.frames.indexOf(b))}function c(){e([0,a.frames.length-1])}function d(){g(),a.gotoAndStop(a.currentFrame)}function e(b){g(),j=b[0],k=b[1],i=k-j,0===j&&(i+=1,h+=1),1===i&&(i=2,h+=1),a.fps||(a.fps=12);var c=1e3/a.fps;a.gotoAndStop(j),m||(l=setInterval(f.bind(this),c),m=!0)}function f(){i>h?(a.gotoAndStop(a.currentFrame+1),h+=1):a.loop&&(a.gotoAndStop(j),h=1)}function g(){void 0!==l&&m===!0&&(m=!1,h=0,j=0,k=0,i=0,clearInterval(l))}var h=0,i=0,j=0,k=0,l=void 0,m=!1;a.show=b,a.play=c,a.stop=d,a.playing=m,a.playSequence=e},r.render=function(a,b){function c(e){if(e.visible&&a.width+e.width>e.gx&&e.gx+e.width>=-e.width&&a.height+e.height>e.gy&&e.gy+e.height>=-e.height){if(d.save(),r.interpolate?(e.renderX=void 0!==e._previousX?(e.x-e._previousX)*b+e._previousX:e.x,e.renderY=void 0!==e._previousY?(e.y-e._previousY)*b+e._previousY:e.y):(e.renderX=e.x,e.renderY=e.y),d.translate(e.renderX+e.width*e.pivotX,e.renderY+e.height*e.pivotY),d.globalAlpha=e.alpha,d.rotate(e.rotation),d.scale(e.scaleX,e.scaleY),e.shadow&&(d.shadowColor=e.shadowColor,d.shadowOffsetX=e.shadowOffsetX,d.shadowOffsetY=e.shadowOffsetY,d.shadowBlur=e.shadowBlur),e.blendMode&&(d.globalCompositeOperation=e.blendMode),e.render&&e.render(d),e.children&&e.children.length>0){d.translate(-e.width*e.pivotX,-e.height*e.pivotY);for(var f=0;e.children.length>f;f++){var g=e.children[f];c(g)}}d.restore()}}var d=a.ctx;d.clearRect(0,0,a.width,a.height);for(var e=0;r.stage.children.length>e;e++){var f=r.stage.children[e];c(f)}},r.assets={toLoad:0,loaded:0,whenLoaded:void 0,load:function(a){var b=this;b.toLoad=a.length,a.forEach(function(a){var c=/^([0-9a-zA-Z+\/]{4})*(([0-9a-zA-Z+\/]{2}==)|([0-9a-zA-Z+\/]{3}=))?$/,d=a.split(",").pop(),e=c.test(d);if(1==e){var f=new Image;f.addEventListener("load",function(){f.name=a,b[f.name]={source:f,frame:{x:0,y:0,w:f.width,h:f.height}},b.loadHandler()},!1),f.src=a}})},createTilesetFrames:function(a,b){function c(){d[e+a.meta.image]={source:f,frame:{x:0,y:0,w:f.width,h:f.height}},Object.keys(a.frames).forEach(function(b){d[b]=a.frames[b],d[b].source=f}),d.loadHandler()}var d=this,e=b.replace(/[^\/]*$/,""),f=new Image;f.addEventListener("load",c,!1),f.src=e+a.meta.image},loadHandler:function(){var a=this;a.loaded+=1,a.toLoad===a.loaded&&(a.toLoad=0,a.loaded=0,a.whenLoaded())}},r.keyboard=o,r.makeDisplayObject=j,void 0!==s.plugins&&s.plugins(r),void 0!==s.custom&&s.custom(r),r},window.ga=s.create,s.custom=function(a){a.noBlurScale=function(){a.canvas.ctx.webkitImageSmoothingEnabled=!1,a.canvas.ctx.mozImageSmoothingEnabled=!1,a.canvas.ctx.imageSmoothingEnabled=!1},a.scaleToWindow=function(b,c){var d=c||a.canvas;b=b||"#2C3539";var e,f,g,h;e=window.innerWidth/d.width,f=window.innerHeight/d.height,g=Math.min(e,f),d.style.transformOrigin="0 0",d.style.transform="scale("+g+")",h=d.width>d.height?d.width*g<window.innerWidth?"horizontally":"vertically":d.height*g<window.innerHeight?"vertically":"horizontally",a.mleft=0,a.mtop=0;var i;"horizontally"===h&&(i=(window.innerWidth-d.width*g)/2,d.style.marginLeft=i+"px",d.style.marginRight=i+"px",a.mleft=i),"vertically"===h&&(i=(window.innerHeight-d.height*g)/2,d.style.marginTop=i+"px",d.style.marginBottom=i+"px",a.mtop=i),d.style.paddingLeft=0,d.style.paddingRight=0,d.style.paddingTop=0,d.style.paddingBottom=0,d.style.display="block",document.body.style.backgroundColor=b,a.pointer.scale=g,a.scale=g,d.scaled=!0;var j=navigator.userAgent.toLowerCase();j.indexOf("safari")!=-1&&(j.indexOf("chrome")>-1||(d.style.maxHeight="100%",d.style.minHeight="100%"))},a.followConstant=function(a,b,c){var d=b.centerX-a.centerX,e=b.centerY-a.centerY,f=Math.sqrt(d*d+e*e);c>f||(a.x+=d/f*c,a.y+=e/f*c)},a.rectangleCollision=function(a,b,c,d){var e,f,g,h,i,j,k;return void 0===c&&(c=!1),void 0===d&&(d=!1),d?(j=a.gx+a.halfWidth-(b.gx+b.halfWidth),k=a.gy+a.halfHeight-(b.gy+b.halfHeight)):(j=a.centerX-b.centerX,k=a.centerY-b.centerY),f=a.halfWidth+b.halfWidth,g=a.halfHeight+b.halfHeight,Math.abs(j)<f&&Math.abs(k)<g&&(h=f-Math.abs(j),i=g-Math.abs(k),i>h?(j>0?(e="left",a.x=a.x+h):(e="right",a.x=a.x-h),c&&(a.vx*=-1)):(k>0?(e="top",a.y=a.y+i):(e="bottom",a.y=a.y-i),c&&(a.vy*=-1))),e},a.contain=function(a,b,c,d){var e=b.x,f=b.y,g=b.width,h=b.height;c=c||!1;var i;return e>a.x&&(c&&(a.vx*=-1),a.mass&&(a.vx/=a.mass),a.x=e,i="left"),f>a.y&&(c&&(a.vy*=-1),a.mass&&(a.vy/=a.mass),a.y=f,i="top"),a.x+a.width>g&&(c&&(a.vx*=-1),a.mass&&(a.vx/=a.mass),a.x=g-a.width,i="right"),a.y+a.height>h&&(c&&(a.vy*=-1),a.mass&&(a.vy/=a.mass),a.y=h-a.height,i="bottom"),i&&d&&d(i),i},a.move=function(a){function b(a){a.x+=0|a.vx,a.y+=0|a.vy}if(a instanceof Array==!1)b(a);else for(var c=0;a.length>c;c++)b(sprite[c])},a.fourKeyController=function(b,c,d,e,f,g){b.direction="",leftArrow=a.keyboard(g),upArrow=a.keyboard(d),rightArrow=a.keyboard(e),downArrow=a.keyboard(f),leftArrow.press=function(){b.vx=-c,b.vy=0,b.direction="left"},leftArrow.release=function(){rightArrow.isDown||0!==b.vy||(b.vx=0)},upArrow.press=function(){b.vy=-c,b.vx=0,b.direction="up"},upArrow.release=function(){downArrow.isDown||0!==b.vx||(b.vy=0)},rightArrow.press=function(){b.vx=c,b.vy=0,b.direction="right"},rightArrow.release=function(){leftArrow.isDown||0!==b.vy||(b.vx=0)},downArrow.press=function(){b.vy=c,b.vx=0,b.direction="down"},downArrow.release=function(){upArrow.isDown||0!==b.vx||(b.vy=0)}},a.contain=function(a,b,c,d){var e=b.x,f=b.y,g=b.width,h=b.height;c=c||!1;var i;return e>a.x&&(c&&(a.vx*=-1),a.mass&&(a.vx/=a.mass),a.x=e,i="left"),f>a.y&&(c&&(a.vy*=-1),a.mass&&(a.vy/=a.mass),a.y=f,i="top"),a.x+a.width>g&&(c&&(a.vx*=-1),a.mass&&(a.vx/=a.mass),a.x=g-a.width,i="right"),a.y+a.height>h&&(c&&(a.vy*=-1),a.mass&&(a.vy/=a.mass),a.y=h-a.height,i="bottom"),i&&d&&d(i),i}};var t,u,v,w;v="";var x={A:[[,1],[1,,1],[1,,1],[1,1,1],[1,,1]],B:[[1,1],[1,,1],[1,1,1],[1,,1],[1,1]],C:[[1,1,1],[1],[1],[1],[1,1,1]],D:[[1,1],[1,,1],[1,,1],[1,,1],[1,1]],E:[[1,1,1],[1],[1,1,1],[1],[1,1,1]],F:[[1,1,1],[1],[1,1],[1],[1]],G:[[,1,1],[1],[1,,1,1],[1,,,1],[,1,1]],H:[[1,,1],[1,,1],[1,1,1],[1,,1],[1,,1]],I:[[1,1,1],[,1],[,1],[,1],[1,1,1]],J:[[1,1,1],[,,1],[,,1],[1,,1],[1,1,1]],K:[[1,,,1],[1,,1],[1,1],[1,,1],[1,,,1]],L:[[1],[1],[1],[1],[1,1,1]],M:[[1,1,1,1,1],[1,,1,,1],[1,,1,,1],[1,,,,1],[1,,,,1]],N:[[1,,,1],[1,1,,1],[1,,1,1],[1,,,1],[1,,,1]],O:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],P:[[1,1,1],[1,,1],[1,1,1],[1],[1]],Q:[[0,1,1],[1,,,1],[1,,,1],[1,,1,1],[1,1,1,1]],R:[[1,1],[1,,1],[1,,1],[1,1],[1,,1]],S:[[1,1,1],[1],[1,1,1],[,,1],[1,1,1]],T:[[1,1,1],[,1],[,1],[,1],[,1]],U:[[1,,1],[1,,1],[1,,1],[1,,1],[1,1,1]],V:[[1,,,,1],[1,,,,1],[,1,,1],[,1,,1],[,,1]],W:[[1,,,,1],[1,,,,1],[1,,,,1],[1,,1,,1],[1,1,1,1,1]],X:[[1,,,,1],[,1,,1],[,,1],[,1,,1],[1,,,,1]],Y:[[1,,1],[1,,1],[,1],[,1],[,1]],Z:[[1,1,1,1,1],[,,,1],[,,1],[,1],[1,1,1,1,1]],0:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],1:[[,1],[,1],[,1],[,1],[,1]]," ":[[,,],[,,],[,,],[,,],[,,]],".":[[,,],[,,],[,,],[,,],[,1]],"'":[[,1],[,1],[,,],[,,],[,,]],"!":[[,1],[,1],[,1],[,0],[,1]],"?":[[,1,1,1],[,,,1],[,,1],[,,],[,,1]],2:[[1,1,1,1],[,,,1],[1,1,1,1],[1],[1,1,1,1]],6:[[1,1,1,1],[1,,,,],[1,1,1,1],[1,,,1],[1,1,1,1]],3:[[1,1,1,1],[,,,1],[1,1,1,1],[,,,1],[1,1,1,1]]};!function(a,b){"function"==typeof define&&define.amd?define(["exports"],b):b("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:a.TinyMusic={})}(this,function(a){function b(a){var c=a.split(h);this.frequency=b.getFrequency(c[0])||0,this.duration=b.getDuration(c[1])||0}function c(a,b,c){this.ac=a||new AudioContext,this.createFxNodes(),this.tempo=b||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,c||[])}var d="B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb",e=440*Math.pow(Math.pow(2,1/12),-9),f=/^[0-9.]+$/,g=4,h=/\s+/,i=/(\d+)/,j={};d.split("|").forEach(function(a,b){a.split("-").forEach(function(a){j[a]=b})}),b.getFrequency=function(a){var b=a.split(i),c=j[b[0]],d=(b[1]||g)-g,f=e*Math.pow(Math.pow(2,1/12),c);return f*Math.pow(2,d)},b.getDuration=function(a){return f.test(a)?parseFloat(a):a.toLowerCase().split("").reduce(function(a,b){return a+("w"===b?4:"h"===b?2:"q"===b?1:"e"===b?.5:"s"===b?.25:0)},0)},c.prototype.createFxNodes=function(){var a=[["bass",100],["mid",1e3],["treble",2500]],b=this.gain=this.ac.createGain();return a.forEach(function(a,c){c=this[a[0]]=this.ac.createBiquadFilter(),c.type="peaking",c.frequency.value=a[1],b.connect(b=c)}.bind(this)),b.connect(this.ac.destination),this},c.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(a){this.notes.push(a instanceof b?a:new b(a))}.bind(this)),this},c.prototype.createCustomWave=function(a,b){b||(b=a),this.waveType="custom",this.customWave=[new Float32Array(a),new Float32Array(b)]},c.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},c.prototype.scheduleNote=function(a,b){
var c=60/this.tempo*this.notes[a].duration,d=c*(1-(this.staccato||0));return this.setFrequency(this.notes[a].frequency,b),this.smoothing&&this.notes[a].frequency&&this.slide(a,b,d),this.setFrequency(0,b+d),b+c},c.prototype.getNextNote=function(a){return this.notes[this.notes.length-1>a?a+1:0]},c.prototype.getSlideStartDelay=function(a){return a-Math.min(a,60/this.tempo*this.smoothing)},c.prototype.slide=function(a,b,c){var d=this.getNextNote(a),e=this.getSlideStartDelay(c);return this.setFrequency(this.notes[a].frequency,b+e),this.rampFrequency(d.frequency,b+c),this},c.prototype.setFrequency=function(a,b){return this.osc.frequency.setValueAtTime(a,b),this},c.prototype.rampFrequency=function(a,b){return this.osc.frequency.linearRampToValueAtTime(a,b),this},c.prototype.play=function(a){return a="number"==typeof a?a:this.ac.currentTime,this.createOscillator(),this.osc.start(a),this.notes.forEach(function(b,c){a=this.scheduleNote(c,a)}.bind(this)),this.osc.stop(a),this.osc.onended=this.loop?this.play.bind(this,a):null,this},c.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},a.Note=b,a.Sequence=c});var y="RIGHT ORDER OF THE SWITCHES FOR LAST LEVEL : ON OFF OFF ON ON ON",z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMBAMAAACkW0HUAAAAD1BMVEUAAAD///8AAADAwMDHx8cZgFxgAAAAAXRSTlMAQObYZgAAADJJREFUCNdjgAEmJSUFIKVsbGwE5AgKGwsqACkgUGBQFARCICUs6CIMFwSKCgrB9KECANcBBJRue748AAAAAElFTkSuQmCC",A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAD1BMVEUAAAD///8AAADAwMDHx8cZgFxgAAAAAXRSTlMAQObYZgAAADlJREFUCNdjYGBQUlJiYGAyNjZWAHIUBY0NBYCkoKAQUFBQSFBIgEHQUMTRCCgHEhVgYAKSCgxQfQCUdgRuGhnD3QAAAABJRU5ErkJggg==",B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANBAMAAABSlfMXAAAAD1BMVEUAAADp6ekAAACRkZF/f38FrQ4TAAAAAXRSTlMAQObYZgAAAEZJREFUCNdFjNsNwCAMAxEbOBM07gSlE7D/Utg8hD+i0ym6olWSxXt/4LGIdiAjDQmgUwJeTHHBz/XbghtEQa5MU3uCjioDlrwG5RoKjlYAAAAASUVORK5CYII=",C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIBAMAAAA2IaO4AAAAD1BMVEUAAAAAAAB+fn6UlJS4uLjAWsTOAAAAAXRSTlMAQObYZgAAACFJREFUCNdjYBQUFGAQcXFRZBAxVgYSRkbILCElJUWwEgBQYAPjLZ/qoAAAAABJRU5ErkJggg==",D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEXk5OTPz89xsZL2AAAAFklEQVQI12MQZHBgYGFYwMAJpIUYHAAMEAGRAsxMmgAAAABJRU5ErkJggg==",E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAQAgMAAAC9023tAAAADFBMVEUAAAAAAADb29uEhIQRZgKAAAAAAXRSTlMAQObYZgAAAENJREFUCNdjEA0NYBBdOoUhatUSMA4NDWGIjAphyAKypZYuYWBbNYGBMdSBgbHWgYH1fwAD+/8LDGKhUxhEgeoYHR0Ab4wSdg2J1nAAAAAASUVORK5CYII=",F=[],G=[],H=[],I=!1,J=9,K,L,M,N,O,P,Q,R,S,T,U=ga(500,500,c,[z,A,C,D,B,E]);U.noBlurScale(),U.scaleToWindow(),a(),String.prototype.shuffle=function(){for(var a=this.split(""),b=a.length,c=b-1;c>0;c--){var d=Math.floor(Math.random()*(c+1)),e=a[c];a[c]=a[d],a[d]=e}return a.join("")};var V={gr:[],pl:{x:0,y:0},state:q},W={gr:[0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,2,0,2,2,0,0,0,2,0,2,0,2,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,2,0,2,2,0,0,0,0,2,2,0,0,0,2,0,0,2,0,2,0,2,0,2,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:200},state:k},X={gr:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:200},state:l},Y={gr:[0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:200},state:m},Z={gr:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:200},state:n},$={gr:[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:300},state:o},_={gr:[1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:300},state:p};V.create=function(){w="GLITCHICKEN",r(80),O.visible=!1,V.gt=function(){w="GLITCHICKEN".shuffle(),window.setTimeout(function(){w="GLITCHICKEN",V.TM=window.setTimeout(V.gt,2e3)},200)},V.TM=window.setTimeout(V.gt,2e3)},W.create=function(){clearTimeout(V.TM),j(["  ","BARK!","Look at all the perfect chicks!","BARK!","  ","Hey  ","What the BARK was that?  ","A glitchy chick?!?  ","OH MY DOG!  ","Guards!  ","Get her!  "]),window.setTimeout(function(){P.foll=!0},12e3),I=!0},X.create=function(){j([,"  ","BARK!","You are now in prison miss Glitch","Don't try to escape using arrow keys!  ","BARK!","  "]);var a=U.sprite(C);a.width=50,a.height=50,a.x=350,a.y=150,G.push(a),r(120)},Y.create=function(){j(["This time I've checked","the collisions personally!","BARK!","You won't get away!"]),R=U.sprite(C),R.width=50,R.height=50,R.x=150,R.y=150,G.push(R),R.d=1,r(140)},Z.create=function(){j(["  ","Now escape this!  ","A reinforced prison guarded  ","by my best man!"," ... ","  dog.  "]),S=U.sprite(B),S.width=50,S.height=40,S.x=200,S.y=250,G.push(S),r(160)},$.create=function(){j(["  ","I, the magnificient MARK, ","will personally guard you this time!  ","BARK!  ","Try to escape now!  ","MARK!  "]),R=U.sprite(B),R.width=60,R.height=50,R.x=250,R.y=200,G.push(R),R.d=-1,R.TM=window.setInterval(function(){1==R.d?(R.d=-1,R.x+=50,R.scaleX=1):R.d==-1&&(R.d=1,R.x-=50,R.scaleX=-1)},1e3),S=U.sprite(C),S.width=40,S.height=40,S.x=150,S.y=250,G.push(S),r(180)},_.create=function(){j(["  ","You ... had ... luck ... till now ...  ","But ... this ... is the end ...  ","It's ... GAME OVER ...","B  "," A  "," BARK  "]),O.scaleY=-1,r(80),S=U.sprite(B),S.width=60,S.height=50,S.x=100,S.y=290,S.scaleY=-1;for(var a=0;5>=a;a++){var b=U.sprite(C);b.width=30,b.height=30,b.x=100+55*a,b.y=150,b.alpha=.5,b.canChange=!0,H.push(b)}_.ended=!1},U.start(),U.pointer.press=function(){U.pointer.y>100&&400>U.pointer.y?250>U.pointer.x?U.pointer.x>250||(K.vx=-2,K.vy=0,K.direction="left"):(K.vx=2,K.vy=0,K.direction="right"):250>U.pointer.y?U.pointer.y>250||(K.vx=0,K.vy=-2,K.direction="up"):(K.vx=0,K.vy=2,K.direction="down")},U.pointer.release=function(){K.vx=0,K.vy=0,K.direction="",d()};var aa="undefined"!=typeof AudioContext?new AudioContext:new webkitAudioContext,ba,ca,da=["Gb1 e","F1 e","Gb1 e","A2 e","Gb1 e","F1 e","Gb1 e","B2 e"],ea=["- w","- h","- h","- q","- e","Db3 w","D3 e","Db3 h","- e","E3 e","D3 e","Db3 w","D3 e","Db3 h","- e","E3 e","D3 e","Gb3 w","A3 w","B3 w","C4 e","B3 e","D4 q","- e"],ba=new TinyMusic.Sequence(aa,100,da);ca=new TinyMusic.Sequence(aa,100,ea),ba.staccato=.55,ca.staccato=.55,ba.gain.gain.value=.1,ca.gain.gain.value=.1,keyObject=U.keyboard(77),keyObject.press=function(){ba.gain.gain.value=0==ba.gain.gain.value?.1:0,ca.gain.gain.value=ba.gain.gain.value};</script></body>